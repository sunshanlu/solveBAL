# solveBAL

通过G2O库解决BAL问题，其具体内容包括

- BAL问题的解决以及文件拆解
- 相机位置顶点的定义
- 观测点位置顶点的定义
- 观测方程边的定义
- BAL相机点和观测点的标准化
- 点云`ply`文件的写入和Meshlab展示

## 一、文件内容描述



## 二、项目依赖



## 二、BAL问题拆解



## 三、数据标准化

标准化或归一化，是将BAL问题中涉及的所有三维点的中心置0，然后进行一个合适尺度的==缩放==，使得整个优化过程更加稳定，防止在极端情况下处理很大或者有很大偏移的BA问题。

### 观测点标准化

$$
P_{norm} = \alpha(P-M)
$$

- $P_{norm}$，标准化或归一化后的观测点
- $\alpha$，缩放倍率
- $M$，观测点的中位数

### 相机点标准化

$$
C = -R^{-1} * t \\
C_{norm} = \alpha(C - M)\\
t_{norm} = -R * C_{norm}
$$

- $C$，相机在旋转之前世界坐标系的位置
- $R$，相机的旋转矩阵
- $t$，相机在世界坐标系中的位置
- $C_{norm}$，标准化后的$C$
- $t_{norm}$，标准化后的$t$

